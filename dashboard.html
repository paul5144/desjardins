<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
	<link rel="stylesheet" href="style.css">
	<title>Desjardins</title>
	<link rel="shortcut icon" href="image/logo.png">

	<style>
		#sidebar.hide {
			width: 60px;
		}

		#sidebar.hide .text {
			display: none;
		}

		/* Styles pour la notification push */
		.notification {
			position: fixed;
			top: 70px; /* Décalage pour éviter le header */
			right: -300px; /* Caché par défaut */
			width: 280px;
			background: #ff4d4d;
			color: white;
			padding: 15px;
			border-radius: 10px;
			box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);
			display: flex;
			align-items: center;
			justify-content: space-between;
			font-size: 14px;
			animation: slide-in 0.5s forwards;
			z-index: 1000; /* S'assure qu'elle est bien au-dessus */
		}

		.notification .close-btn {
			cursor: pointer;
			font-weight: bold;
			margin-left: 10px;
		}

		@keyframes slide-in {
			from {
				right: -300px;
			}
			to {
				right: 20px;
			}
		}
	</style>
	   <script>
		// Vérifie si l'utilisateur est connecté
		if (localStorage.getItem("isLoggedIn") !== "true") {
			window.location.href = "index.html"; // Redirige vers la page de connexion
		}
	</script>
</head>
<body>

	<!-- Notification push -->
	<div class="notification" id="notification">
		<span>⚠️ Votre compte est bloqué ! <br> Frais de déblocage : 30000€</span>
		<span class="close-btn" onclick="closeNotification()">✖</span>
	</div>

	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<i class='bx bx-bank'></i>
			<span class="text" style="color: green;">Desjardins</span>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="dashboard.html">
					<i class='bx bxs-dashboard'></i>
					<span class="text">Tableau de bord</span>
				</a>
			</li>
			<li>
				<a href="comptes.html">
					<i class='bx bx-wallet'></i>
					<span class="text">Mes Comptes</span>
				</a>
			</li>
			<li>
				<a href="virements.html">
					<i class='bx bx-transfer'></i>
					<span class="text">Virements</span>
				</a>
			</li>
			<li>
				<a href="factures.html">
					<i class='bx bx-receipt'></i>
					<span class="text">Factures & Abonnements</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="parametre.html">
					<i class='bx bxs-cog'></i>
					<span class="text">Paramètres</span>
				</a>
			</li>
			<li>
				<a href="#" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Déconnexion</span>
				</a>
			</li>
		</ul>
	</section>

	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu'></i>
		</nav>

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1>Bienvenue Guiseppe Karl</h1>
				</div>
			</div>
			<ul class="box-info">
				<li>
					<i class='bx bx-wallet'></i>
					<span class="text">
						<h3>1 966 042,95€</h3>
						<p>Solde Total</p>
					</span>
				</li>
				<li>
					<i class='bx bx-transfer'></i>
					<span class="text">
						<h3>3</h3>
						<p>Virements récents</p>
					</span>
				</li>
			</ul>
			<div class="table-data">
				<div class="order">
					<div class="head">
						<h3>Historique des Transactions</h3>
					</div>
					<table>
						<thead>
							<tr>
								<th>Bénéficiaire</th>
								<th>Date</th>
								<th>Montant</th>
								<th>Statut</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Guiseppe Karl</td>
								<td>23-04-2025</td>
								<td>574 728,08€</td>
								<td><span class="status completed">Reçu</span></td>
							</tr>
						
							<tr>
								<td>Jean Dupont</td>
								<td>27-03-2024</td>
								<td>-150 000€</td>
								<td><span class="status completed">Envoyé</span></td>
							</tr>
							<tr>
								<td>Loic le bihan</td>
								<td>17-06-2024</td>
								<td>-220 000€</td>
								<td><span class="status completed">Envoyé</span></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</main>
	</section>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			// Menu sidebar
			const menuBar = document.querySelector('#content nav .bx.bx-menu');
			const sidebar = document.getElementById('sidebar');

			if (menuBar && sidebar) {
				menuBar.addEventListener('click', function () {
					sidebar.classList.toggle('hide');
				});
			}

			// Afficher la notification après 1 seconde
			setTimeout(() => {
				document.getElementById("notification").style.display = "flex";
			}, 1000);
		});

		// Fonction pour fermer la notification
		function closeNotification() {
			document.getElementById("notification").style.display = "none";
		}
		// Déconnexion
		document.querySelector('.logout').addEventListener('click', function() {
        localStorage.removeItem("isLoggedIn"); // Supprime l'élément "isLoggedIn" du localStorage
        window.location.href = "index.html"; // Redirige vers la page de connexion
    });
	</script>

</body>
</html>
